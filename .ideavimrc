" .ideavimrc is a configuration file for IdeaVim plugin. It uses
"   the same commands as the original .vimrc configuration.
" You can find a list of commands here: https://jb.gg/h38q75
" Find more examples here: https://jb.gg/share-ideavimrc

" Map leader to space
let mapleader=" "

"" -- Suggested options --
" Show a few lines of context around the cursor. Note that this makes the
" text scroll if you mouse-click near the start or end of the window.
set scrolloff=5

""" -- Idea specific settings --
set ideajoin
set ideastatusicon=gray

" Do incremental searching.
set incsearch

" Don't use Ex mode, use Q for formatting.
map Q gq

""" -- Enable IdeaVim plugins -- https://jb.gg/ideavim-plugins
" Install IdeaVim-EasyMotion and AceJump plugins for easymotion.
Plug 'easymotion/vim-easymotion'
Plug 'tpope/vim-surround'
Plug 'preservim/nerdtree'
Plug 'machakann/vim-highlightedyank'
Plug 'tpope/vim-commentary'

" LSP mappings
nnoremap <Leader>ll :action Javascript.Linters.EsLint.Fix <CR>
nnoremap <Leader>lf :action ReformatWithPrettierAction <CR>

" NerdTree mappings
nnoremap <Leader>e :NERDTree<CR>

""" -- Map IDE actions to IdeaVim -- https://jb.gg/abva4t
vnoremap <S-k> :action MoveLineUp <CR>
vnoremap <S-j> :action MoveLineDown <CR>

" Better splits navigation
nnoremap <C-k> <C-w>k
nnoremap <C-j> <C-w>j
nnoremap <C-l> <C-w>l
nnoremap <C-h> <C-w>h



" --Stay in indent mode
vnoremap < <gv
vnoremap > >gv

"" -- Maintain the cursor position when yanking a visual selection
"" -- http://ddrscott.github.io/blog/2016/yank-without-jank/
vnoremap y myy`y"
vnoremap Y myY`y"

"" -- Configure conflicting keys
sethandler <C-C> a:ide
sethandler <C-V> a:ide
sethandler <C-A> a:ide
sethandler <C-S> a:ide
sethandler <C-Z> a:ide
sethandler <C-F> a:ide
sethandler <C-H> n-v:ide i:vim
